<?xml version="1.0" encoding="utf-8"?>
<mx:Canvas xmlns:mx="http://www.adobe.com/2006/mxml" width="100%" height="100%" backgroundColor="#FFFFFF" 
	creationComplete="onCreationComplete()" >		
	<mx:states>
		<mx:State name="Realtime" >
			<mx:SetProperty target="{terminalViewCanvas}" name="visible" value="true" />
		</mx:State>
		<mx:State name="Replay" >
			<mx:SetProperty target="{terminalViewCanvas}" name="visible" value="true" />
		</mx:State>
	</mx:states>
	<mx:Script>
	
		<![CDATA[
			import models.events.SliderSeekEvent;
			import models.utils.Logger;			
			
			/*
				Passing a reference to the component.
				e.g. <view:TerminalView timebar="{slider}" /> ...
			*/
			public var slider:Slider;
			
			
			/*
				This MXML dispatches SliderSeekEvent.
			*/
			private function onCreationComplete():void
			{
				setCurrentState("Realtime");
				if (slider == null) {
					Logger.log("timebar is not specified.");
				} else {
					slider.addEventListener(SliderSeekEvent.TYPE, onSliderSeekEvent);
				}
			}
			
			private function onSliderSeekEvent(e:SliderSeekEvent):void
			{
				var ne:SliderSeekEvent = new SliderSeekEvent(e.value);
				dispatchEvent(ne);
			}
			
			public function get canvas():Canvas
			{
				return terminalViewCanvas;
			}


			public function autoProcess(updateTimerSpan:Number, percentagePerSpan:Number):void
			{
				slider.autoProcess(updateTimerSpan, percentagePerSpan);
			}
			
		]]>
	</mx:Script>
	<mx:VBox borderStyle="solid">
		<mx:Canvas id="terminalViewCanvas"  width="1200" height="700" visible="true" />
	</mx:VBox>
	
</mx:Canvas>

